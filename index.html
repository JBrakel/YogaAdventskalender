<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Yoga Adventskalender 2025</title>
<style>
  body {
    margin:0;
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(to bottom, #ffefba, #ff7e5f); /* warm golden-orange gradient */
    background-repeat: no-repeat;
    background-attachment: fixed;
    }
  .page { padding:2rem; display:flex; flex-direction:column; align-items:center; }

  h1 { color:#b22222; margin-bottom:1rem; }

  .calendar {
    display:grid;
    grid-template-columns:repeat(6,1fr);
    gap:10px;
    max-width:1000px;
    width:100%;
  }
  .day {
    position:relative;
    width:100%;
    padding-bottom:100%;
    background:#ddd;
    border-radius:10px;
    overflow:hidden;
    cursor:pointer;
    box-shadow:0 2px 5px rgba(0,0,0,0.2);
    transition:transform .15s;
  }
  .day:hover{ transform:scale(1.03); }
  .day img{
    position:absolute; top:0; left:0; width:100%; height:calc(100% - 25px);
    object-fit:contain; background:#e6e6e6;
  }
  .day-number{
    position:absolute; bottom:0; left:0; width:100%; height:25px; line-height:25px;
    text-align:center; font-weight:bold; color:#b22222;
  }

  /* FULLSCREEN PASSWORD OVERLAY */
  #overlay {
    position:fixed; inset:0; z-index:9999;
    display:flex; align-items:center; justify-content:center;
    background:#000000cc; /* dark semi-transparent */
  }
  #pwbox {
    background:#fff; padding:24px; border-radius:10px; width:320px; text-align:center;
    box-shadow:0 8px 24px rgba(0,0,0,0.4);
  }
  #pwbox h2{ margin:0 0 8px 0; color:#b22222; }
  #pwbox input{ width:100%; padding:8px; margin:8px 0; box-sizing:border-box; }
  #pwbox button{ padding:8px 12px; background:#b22222; color:white; border:none; border-radius:6px; cursor:pointer; }
  #err{ color:#b22222; min-height:18px; margin-top:8px; }

  /* hide content container until unlocked (we don't create it until unlock) */
</style>
</head>
<body>

<!-- FULLSCREEN PASSWORD UI (always there) -->
<div id="overlay" aria-hidden="false">
  <div id="pwbox" role="dialog" aria-modal="true" aria-labelledby="pwtitle">
    <h2 id="pwtitle">Passwort erforderlich</h2>
    <input id="password-input" type="password" placeholder="Passwort" autocomplete="off" />
    <button id="password-button">Ã–ffnen</button>
    <div id="err"></div>
  </div>
</div>

<!-- PAGE CONTENT container (will be created/filled only after correct password) -->
<div id="page-root" style="display:none"></div>

<script>
/* ===== CONFIG ===== */
const CORRECT = "glÃ¼hwein"; // change as needed

/* ===== DOOR DATA: keep pairs together ===== */
const doors = [
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day2.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
  { img: "images/day1.jpg", link: "https://www.youtube.com/watch?v=s6Jazu4oXls&t=38s" },
];

/* ===== password handler ===== */
const overlay = document.getElementById('overlay');
const input = document.getElementById('password-input');
const button = document.getElementById('password-button');
const err = document.getElementById('err');

function showError(msg){
  err.textContent = msg;
  input.focus();
}

button.addEventListener('click', tryPassword);
input.addEventListener('keydown', (e)=> { if(e.key === 'Enter') tryPassword(); });

function tryPassword(){
  const val = input.value || "";
  if(val === CORRECT){
    unlockAndInit();
  } else {
    showError("Falsches Passwort");
    input.value = "";
  }
}

/* ===== unlock: remove overlay and INIT calendar AFTER correct pw ===== */
function unlockAndInit(){
  // hide overlay completely
  overlay.style.display = 'none';
  // create page content and calendar now (so images/links are NOT loaded before)
  const page = document.getElementById('page-root');
  page.style.display = 'block';
  page.innerHTML = `
    <div class="page">
      <h1>Yoga Adventskalender 2025 ðŸŽ…</h1>
      <div class="calendar" id="calendar"></div>
    </div>
  `;
  initCalendar();
}

/* ===== calendar builder called only after unlock ===== */
function initCalendar(){
  const calendar = document.getElementById('calendar');
  const lockedImage = "images/locked.jpg";

  // compute currentDay (uses real date)
<!--  const today = new Date();-->
  const today = new Date(2025, 11 , 24);

  const currentDay = (today.getMonth() === 11 && today.getFullYear() === 2025) ? Math.min(today.getDate(),24) : 0;
  // If you want to test, set currentDay manually, e.g. const currentDay = 24;

  for(let i=1; i<=24; i++){
    const cell = document.createElement('div');
    cell.className = 'day';

    const num = document.createElement('div');
    num.className = 'day-number';
    num.textContent = i;

    const img = document.createElement('img');

    // ensure we have a doors[i-1]; if missing, show locked placeholder
    const entry = doors[i-1];
    if(entry && i <= currentDay){
      img.src = entry.img;
      cell.addEventListener('click', ()=> window.open(entry.link, '_blank'));
    } else {
      img.src = lockedImage;
      cell.classList.add('locked');
    }

    cell.appendChild(img);
    cell.appendChild(num);
    calendar.appendChild(cell);
  }
}
</script>

</body>
</html>
